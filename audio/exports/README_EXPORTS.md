# Audio Exports Directory

## Purpose
This directory will contain the exported FamiTone2 audio data files in assembly format (.s files) that are generated from FamiTracker projects.

## Required Files

### music_data.s
- **Source**: audio/music/cellular_division.ftm (to be created)
- **Generator**: text2data or nsf2data tool
- **Content**: Music track data for "Cellular Division" main theme
- **Format**: CA65 assembly format
- **Size**: Estimated 2-5 KB

### sfx_data.s
- **Source**: audio/sfx/game_sfx.ftm (to be created)
- **Generator**: text2data or nsf2data tool with -sfx flag
- **Content**: All 8 sound effects data
- **Format**: CA65 assembly format
- **Size**: Estimated 512 bytes - 2 KB

## Current Status

⚠️ **PLACEHOLDER FILES ONLY**

The files in this directory are currently placeholders/stubs. Actual audio data requires:

1. **FamiTracker Software** - To create .ftm files following specifications in:
   - `audio/music/MUSIC_DESIGN.md`
   - `audio/sfx/SFX_DESIGN.md`

2. **FamiTone2 Conversion Tool** - text2data or nsf2data to convert .ftm → .s
   - Download from: http://shiru.untergrund.net/software.shtml

3. **Export Process**:
   ```bash
   # Export from FamiTracker to NSF
   # (File → Create NSF in FamiTracker GUI)

   # Convert NSF to assembly data
   text2data music.nsf           # For music
   text2data sfx.nsf -sfx        # For sound effects

   # Copy to this directory
   cp music.s audio/exports/music_data.s
   cp sfx.s audio/exports/sfx_data.s
   ```

## Expected Data Format

### Music Data Structure
```assembly
; Generated by text2data
; FamiTone2 music data

music_data:
    .word @song0_start
    .word @song0_loop
    ; ... track pointers ...

@song0_start:
    ; Frame data for Pulse 1
    .byte $XX, $XX, $XX, ...
    ; Frame data for Pulse 2
    .byte $XX, $XX, $XX, ...
    ; Frame data for Triangle
    .byte $XX, $XX, $XX, ...
    ; Frame data for Noise
    .byte $XX, $XX, $XX, ...

@song0_loop:
    ; Loop point marker
```

### SFX Data Structure
```assembly
; Generated by text2data with -sfx flag
; FamiTone2 sound effects data

sfx_data:
    .word @sfx0_start   ; Mitosis
    .word @sfx1_start   ; Nutrient A
    .word @sfx2_start   ; Nutrient B
    .word @sfx3_start   ; Nutrient C
    .word @sfx4_start   ; Antibody warn
    .word @sfx5_start   ; Damage pulse
    .word @sfx6_start   ; Damage noise
    .word @sfx7_start   ; Game over

@sfx0_start:
    ; Channel assignments and frame data
    .byte $XX, $XX, $XX, ...
    .byte $FF           ; End marker

; ... additional SFX data ...
```

## Integration with Build System

Once actual data files are present, include them in the main assembly:

```assembly
; In your main game.s or audio_data.s file

.segment "RODATA"

; Include exported audio data
.include "audio/exports/music_data.s"
.include "audio/exports/sfx_data.s"

; Export symbols for initialization
.export music_data
.export sfx_data
```

## Testing Exported Data

After export, verify:
- [ ] Files assemble without errors with CA65
- [ ] Music data includes loop point markers
- [ ] SFX data has all 8 effects
- [ ] No syntax errors or invalid opcodes
- [ ] File sizes are reasonable (music 2-5KB, sfx 0.5-2KB)

## Placeholder Strategy for Testing

For initial audio engine integration testing without real assets:

1. **Option A**: Use stub data with silent/minimal notes
2. **Option B**: Use sample FamiTone2 data from engine distribution
3. **Option C**: Create minimal test tones (single note beeps)

See `stub_audio_data.s` for a minimal placeholder implementation.

## Resources

- FamiTracker: http://famitracker.com/
- FamiTone2 + tools: http://shiru.untergrund.net/code.shtml
- Text2data documentation: Included with FamiTone2 distribution
- Audio specifications: `../music/MUSIC_DESIGN.md` and `../sfx/SFX_DESIGN.md`
